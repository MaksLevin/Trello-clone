<main class="main-dashboard m-20">
  <div class="main-dashboard-wrapper">
    <div class="drag-wrapper">
      <ng-container *ngIf="boards$ | async as boards">
        <mat-card
          *ngFor="let board of boards; trackBy: trackById; let index = index"
          class="main-board my-20 mx-15"
        >
          <app-main-boards
            [boardId]="board.id"
            [boardTitle]="board.title"
            [boardDescription]="board.description"
            [isTitleEditMode]="currentTitleId === board.id"
            [isDescriptionEditMode]="currentDescriptionId === board.id"
            (deleteBoard)="deleteBoard($event)"
            (switchToBoard)="switchToBoard($event)"
            (saveEditableBoardTitle)="saveEditableBoardTitle($event)"
            (saveEditableBoardDescription)="saveEditableBoardDescription($event)"
            (setTitleEditMode)="setTitleEditMode($event)"
            (setDescriptionEditMode)="setDescriptionEditMode($event)"
          ></app-main-boards>
        </mat-card>
      </ng-container>

      <mat-card class="main-board-form my-20 mx-15" [formGroup]="mainBoardsForm">
        <mat-card-title>
          <mat-form-field class="main-board-title">
            <input matInput formControlName="title" placeholder="title" />
            <mat-error *ngIf="isRequired('title')">{{ titleError.isRequired }}</mat-error>
          </mat-form-field>
        </mat-card-title>

        <mat-card-content>
          <mat-form-field>
            <input matInput formControlName="description" placeholder="description" />
          </mat-form-field>
        </mat-card-content>

        <mat-card-actions class="main-board-form-actions">
          <button mat-button [disabled]="!mainBoardsForm.valid" (click)="createNewBoard()">
            add
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</main>
